# ── Colors ──────────────────────────────────────
%hidden COL_BG="#1a1b26"
%hidden COL_FG="#565f89"
%hidden COL_ACCENT="#7aa2f7"
%hidden COL_WARN="#ff9e9e"
%hidden COL_COPY="#ff9e64"
%hidden COL_SUCCESS="#9ece6a"
%hidden COL_DARK="#282a36"
%hidden COL_TEXT="#1a1b26"

# Better prefix
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Start windows/panes at 1
set -g base-index 1
setw -g pane-base-index 1

# Mouse support
set -g mouse on

# Vi mode for copy
setw -g mode-keys vi

# Copy to system clipboard on Mac
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel \
  "if command -v pbcopy > /dev/null; then pbcopy; elif command -v xclip > /dev/null; then xclip -selection clipboard; else wl-copy; fi"

# Split panes with | and -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# New window keeps current path
bind c new-window -c "#{pane_current_path}"

# Fast pane switching (Alt+arrow, no prefix)
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

# Move window left/right
bind -r < swap-window -t -1 \; previous-window
bind -r > swap-window -t +1 \; next-window

# Resize panes (prefix + HJKL)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Scroll speed
bind -T copy-mode-vi WheelUpPane select-pane \; send-keys -X -N 3 scroll-up
bind -T copy-mode-vi WheelDownPane select-pane \; send-keys -X -N 3 scroll-down

# Fast reload
bind r source-file ~/.tmux.conf \; display "Reloaded"

# History
set -g history-limit 50000

# No delay on escape
set -sg escape-time 0

# True color support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# Renumber windows on close
set -g renumber-windows on

# ── Status bar ──────────────────────────────────
set -g status-position bottom
set -g status-style "bg=#{COL_BG},fg=#{COL_FG}"
set -g status-left "#{?client_prefix,#[bg=#{COL_WARN} fg=#{COL_TEXT} bold]  PREFIX  ,}"
set -g status-right "#[fg=#{COL_ACCENT}] %H:%M:%S "
set -g status-justify left
set -g status-interval 1

# Window tabs
setw -g window-status-format "#[fg=#{COL_FG}]  #I:#W  "
setw -g window-status-current-format "#{?pane_in_mode,#[fg=#{COL_TEXT} bg=#{COL_COPY} bold]  #I:#W  ,#[fg=#{COL_TEXT} bg=#{COL_ACCENT} bold]  #I:#W  }"

# Copy mode style
set -g mode-style "bg=#{COL_COPY},fg=#{COL_TEXT}"

# Pane borders
set -g pane-border-style "fg=#{COL_DARK}"
set -g pane-active-border-style "fg=#{COL_ACCENT}"

# Message style
set -g message-style "bg=#bb9af7,fg=#{COL_TEXT}"%%

# Dim unfocused panes
set -g window-style "bg=#212133"
set -g window-active-style "bg=#000000"%  